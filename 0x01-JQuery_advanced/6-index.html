<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 0</title>
        <script
          src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
          integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
          crossorigin="anonymous">
        </script>
        <script type="application/javascript">
          $(document).ready(function () {
            createFamilyTree();
            createForm();

          })

          function createFamilyTree() {
            $('body').append(`<table></table>`);
            $('table').append(`<thead></thead>`);
            $('thead').append(`<tr></tr>`);
            $('tr').append(`<th></th>`, `<th></th>`);
            $('th').eq(0).text('Firstname');
            $('th').eq(1).text('Lastname');
            $('table').append(`<tbody></tbody>`);
          }

          function addNewMember(firstName, lastName, position) {
            if (position === "before") {
              $('tbody').prepend(`<tr><td>${firstName}</td><td>${lastName}</td><td>(x)</td></tr>`);

            } else {
              $('tbody').append(`<tr><td>${firstName}</td><td>${lastName}</td><td>(x)</td></tr>`);
            }

            $("td:nth-child(3)").css("background-color", "orange").click(function () {$(this).parent('tr').remove()})
          }

          function createForm() {
            $('body').prepend(`
              <form>
                <input id="firstname" name="firstname" type="text" />
                <input id="lastname" name="lastname" type="text" />
                <select id="dropdown">
                  <option value="before">Before</option>
                  <option value="after">After</option>
                </select>
                  <input type="submit">
              </form>`);

            $("form").submit(function (e) {
              addNewMember($("input").first().val(), $("input:nth-of-type(2)").val(), $("#dropdown").val());
              e.preventDefault();
            })
          }
        </script>
    </head>

    <body>

    </body>

</html>